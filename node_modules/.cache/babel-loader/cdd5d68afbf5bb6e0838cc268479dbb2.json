{"ast":null,"code":"import _slicedToArray from\"/home/vostro/Desktop/ReactMeals/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import CartContext from'../../store/cart-context';import CartIcon from'../Cart/CartIcon';import classes from'./HeaderCartButton.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeaderCartButton=function HeaderCartButton(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),buttonIsHighlighted=_useState2[0],setButtonIsHighLighted=_useState2[1];var cartCtx=useContext(CartContext);var numberOfCartItems=cartCtx.items.reduce(function(curNumber,item){return curNumber+item.amount;},0);var items=cartCtx.items;var btnClasses=\"\".concat(classes.button,\" \").concat(buttonIsHighlighted?classes.bump:'');// Use Effect to make the button bump after item is added\nuseEffect(function(){// Make sure at least one item is ordered or quit\nif(items.length===0){return;}// Add the highlighted state then remove it after time runs out\nsetButtonIsHighLighted(true);var timer=setTimeout(function(){setButtonIsHighLighted(false);},300);// Clean up function to clear timer\nreturn function(){clearTimeout(timer);};},[items]);return/*#__PURE__*/_jsxs(\"button\",{className:btnClasses,onClick:props.onClick,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.icon,children:/*#__PURE__*/_jsx(CartIcon,{})}),/*#__PURE__*/_jsx(\"span\",{children:\"Your Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.badge,children:numberOfCartItems})]});};export default HeaderCartButton;","map":{"version":3,"sources":["/home/vostro/Desktop/ReactMeals/src/components/Layout/HeaderCartButton.js"],"names":["React","useContext","useEffect","useState","CartContext","CartIcon","classes","HeaderCartButton","props","buttonIsHighlighted","setButtonIsHighLighted","cartCtx","numberOfCartItems","items","reduce","curNumber","item","amount","btnClasses","button","bump","length","timer","setTimeout","clearTimeout","onClick","icon","badge"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAqD,OAArD,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,+BAApB,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAChC,cAAsDL,QAAQ,CAAC,KAAD,CAA9D,wCAAOM,mBAAP,eAA4BC,sBAA5B,eACA,GAAMC,CAAAA,OAAO,CAAGV,UAAU,CAACG,WAAD,CAA1B,CAEA,GAAMQ,CAAAA,iBAAiB,CAAGD,OAAO,CAACE,KAAR,CAAcC,MAAd,CAAqB,SAACC,SAAD,CAAYC,IAAZ,CAAqB,CAChE,MAAOD,CAAAA,SAAS,CAAGC,IAAI,CAACC,MAAxB,CACC,CAFqB,CAEnB,CAFmB,CAA1B,CAII,GAAQJ,CAAAA,KAAR,CAAkBF,OAAlB,CAAQE,KAAR,CAEA,GAAMK,CAAAA,UAAU,WAAMZ,OAAO,CAACa,MAAd,aAAwBV,mBAAmB,CAAGH,OAAO,CAACc,IAAX,CAAkB,EAA7D,CAAhB,CAEA;AACAlB,SAAS,CAAC,UAAM,CACZ;AACA,GAAIW,KAAK,CAACQ,MAAN,GAAiB,CAArB,CAAwB,CACpB,OACH,CACD;AACAX,sBAAsB,CAAC,IAAD,CAAtB,CACA,GAAMY,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC3Bb,sBAAsB,CAAC,KAAD,CAAtB,CACH,CAFuB,CAErB,GAFqB,CAAxB,CAGA;AACA,MAAO,WAAM,CACTc,YAAY,CAACF,KAAD,CAAZ,CACH,CAFD,CAGH,CAdQ,CAcN,CAACT,KAAD,CAdM,CAAT,CAgBJ,mBACI,gBAAQ,SAAS,CAAEK,UAAnB,CAA+B,OAAO,CAAEV,KAAK,CAACiB,OAA9C,wBACI,aAAM,SAAS,CAAEnB,OAAO,CAACoB,IAAzB,uBACI,KAAC,QAAD,IADJ,EADJ,cAII,mCAJJ,cAKI,aAAM,SAAS,CAAEpB,OAAO,CAACqB,KAAzB,UAAiCf,iBAAjC,EALJ,GADJ,CASH,CAtCD,CAwCA,cAAeL,CAAAA,gBAAf","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport CartContext from '../../store/cart-context'\nimport CartIcon from '../Cart/CartIcon'\nimport classes from './HeaderCartButton.module.css' \n\nconst HeaderCartButton = (props) => {\n    const [buttonIsHighlighted, setButtonIsHighLighted] = useState(false)\n    const cartCtx = useContext(CartContext)\n\n    const numberOfCartItems = cartCtx.items.reduce((curNumber, item) => {\n        return curNumber + item.amount\n        }, 0)\n\n        const { items } = cartCtx\n\n        const btnClasses = `${classes.button} ${buttonIsHighlighted ? classes.bump : ''}`\n\n        // Use Effect to make the button bump after item is added\n        useEffect(() => {\n            // Make sure at least one item is ordered or quit\n            if (items.length === 0) {\n                return\n            } \n            // Add the highlighted state then remove it after time runs out\n            setButtonIsHighLighted(true)\n            const timer = setTimeout(() => {\n                setButtonIsHighLighted(false)\n            }, 300)\n            // Clean up function to clear timer\n            return () => {\n                clearTimeout(timer)\n            }\n        }, [items])\n\n    return (\n        <button className={btnClasses} onClick={props.onClick}>\n            <span className={classes.icon}>\n                <CartIcon />\n            </span>\n            <span>Your Cart</span>\n            <span className={classes.badge}>{numberOfCartItems}</span>\n        </button>\n    )\n}\n\nexport default HeaderCartButton\n"]},"metadata":{},"sourceType":"module"}